<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hash Harvest</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Mine satoshis, upgrade your rig, and dominate the crypto world in Hash Harvest, an incremental clicker game.">
    <link rel="icon" type="image/x-icon" href="favicon.png">

    <!-- OG Tags -->
    <meta property="og:title" content="Hash Harvest">
    <meta property="og:description" content="Mine satoshis, upgrade your rig, and dominate the crypto world in Hash Harvest, an incremental clicker game.">
    <meta property="og:url" content="https://hashharvest.netlify.app/">
    <meta property="og:image" content="https://raw.githubusercontent.com/Valtriaz/Library/refs/heads/main/hash-harvest-banner.png">
    <meta property="og:locale" content="en_US">
    <meta property="og:type" content="game">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://hashharvest.netlify.app/">
    <meta property="twitter:title" content="Hash Harvest">
    <meta property="twitter:description" content="Mine satoshis, upgrade your rig, and dominate the crypto world in Hash Harvest, an incremental clicker game.">
    <meta property="twitter:image" content="https://raw.githubusercontent.com/Valtriaz/Library/refs/heads/main/hash-harvest-banner.png">
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6745205315646645" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800;900&family=Exo+2:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body class="min-h-screen p-2 sm:p-4 md:p-8 overflow-x-hidden bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900">
    <!-- Header with Save/Load -->
    <header class="max-w-7xl mx-auto mb-4 sm:mb-6 px-2 sm:px-4 md:px-8">
        <div class="flex flex-row items-center justify-between gap-2 sm:gap-4">
            <div class="flex flex-row items-center w-full sm:w-auto">
                <h1 class="text-3xl sm:text-4xl md:text-5xl font-black bg-gradient-to-r from-green-400 via-teal-400 to-lime-400 bg-clip-text text-transparent font-orbitron neon-text text-center w-full sm:w-auto mb-0">
                    <img src="favicon.png" style="width: 200px;height: auto;"> Hash Harvest
                </h1>
                <!-- Mobile: Icon-only settings button -->
                <div class="ml-auto sm:hidden flex items-center gap-2">
                    <button id="openShopBtnMobile" class="w-10 h-10 flex items-center justify-center bg-green-600 hover:bg-green-700 text-white rounded-xl shadow transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-green-500" aria-label="Shop" aria-controls="shopModal" aria-expanded="false">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
                    </button>
                    <button id="openSettingsBtnMobile" class="w-10 h-10 flex items-center justify-center bg-gray-700 hover:bg-gray-800 text-white rounded-xl shadow transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500" aria-label="Settings" aria-controls="settingsModal" aria-expanded="false">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                        </svg>
                    </button>
                </div>
            </div>
            <!-- Desktop: Button with text -->
            <div class="hidden sm:flex gap-2 sm:gap-3 w-full sm:w-auto justify-center sm:justify-end">
                <button id="openShopBtn" class="bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-4 rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-green-500 flex items-center justify-center gap-2 font-exo text-lg" aria-label="Shop" aria-controls="shopModal" aria-expanded="false">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
                    <span class="hidden sm:inline">Shop</span>
                </button>
                <button id="openSettingsBtn" class="bg-gray-600 hover:bg-gray-700 text-white font-semibold py-3 px-4 rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 flex items-center justify-center gap-2 font-exo text-lg" aria-label="Settings" aria-controls="settingsModal" aria-expanded="false">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    </svg>
                    <span class="hidden sm:inline">Settings</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Message Box - Global Pop-up -->
    <div id="messageBox" class="fixed top-4 left-1/2 transform -translate-x-1/2 z-50 p-2 sm:p-4 rounded-xl shadow-2xl border text-center font-semibold hidden max-w-xs sm:max-w-md md:max-w-lg mx-2 sm:mx-4 backdrop-blur-sm transition-all duration-300 text-sm sm:text-base md:text-lg" role="alert" aria-live="polite"></div>

    <!-- Main Game Container -->
    <main class="max-w-7xl mx-auto px-2 sm:px-4 md:px-8">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6">
            <!-- Left Panel: Mining Area -->
            <div class="lg:col-span-1 mb-4 lg:mb-0">
                <div class="glass rounded-2xl p-3 sm:p-4 md:p-6 shadow-2xl border border-blue-500/20 mb-4 relative">
                    <!-- Info Button for Mobile -->
                    <button id="openStatsModalBtn" class="absolute top-2 right-2 sm:hidden bg-gray-700 text-white rounded-full p-2 shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-400" aria-label="Show Mining Stats">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                            <line x1="12" y1="8" x2="12" y2="12" stroke="currentColor" stroke-width="2"/>
                            <circle cx="12" cy="16" r="1" fill="currentColor"/>
                        </svg>
                    </button>
                    <div class="text-center mb-4 sm:mb-6">
                        <h2 class="text-2xl sm:text-3xl font-bold mb-2 text-green-400 flex items-center justify-center gap-2 font-orbitron neon-text text-center">
                            <svg class="w-8 h-8 animate-float" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.48 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8zm-1-13h2v4h4v2h-4v4h-2v-4H7v-2h4z"/>
                            </svg>
                            Mining Rig
                        </h2>
                    </div>
                    <!-- Balance Display -->
                    <div class="text-center mb-6 sm:mb-8 p-4 sm:p-6 bg-gray-800/50 rounded-2xl border border-gray-600/30 backdrop-blur-sm">
                        <p class="text-base sm:text-lg text-gray-400 mb-2 font-exo">ðŸ’° Current Balance</p>
                        <p id="satoshisDisplay" class="text-2xl sm:text-4xl md:text-5xl font-black text-white mb-2 animate-pulse-slow font-jetbrains neon-text">0 sats</p>
                        <div class="flex flex-col sm:flex-row items-center justify-center gap-2 text-xs sm:text-sm text-gray-500 font-exo">
                            <div class="flex items-center gap-1">
                                <!-- Icon will be dynamically added by JS if needed -->
                                <span id="satoshiRate">0 sats/second</span>
                            </div>
                        </div>
                    </div>
                    <!-- Active Boosts Display -->
                    <div id="activeBoosts" class="text-xs text-center -mt-4 mb-4 h-4"></div>
                    <!-- Mining Button -->
                    <div class="text-center mb-4 sm:mb-6">
                        <button id="mineButton" class="w-full bg-gradient-to-r from-blue-600 via-purple-600 to-blue-600 hover:from-blue-700 hover:via-purple-700 hover:to-blue-700 text-white font-bold py-5 sm:py-6 px-4 sm:px-8 rounded-2xl text-xl sm:text-2xl shadow-2xl transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-blue-500/50 flex items-center justify-center space-x-3 group font-orbitron shimmer mb-2">
                            <svg class="w-8 h-8 group-hover:animate-bounce-slow" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.48 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8zm-1-13h2v4h4v2h-4v4h-2v-4H7v-2h4z"/>
                            </svg>
                            <span>Mine Satoshis!</span>
                        </button>
                        <p id="clickValueDisplay" class="text-base sm:text-md text-gray-400 mt-2 sm:mt-4 font-exo">Getting 1 sat per click</p>
                        <p class="text-xs text-gray-500 mt-2 font-exo">ðŸ’¡ Press Space or Enter to mine faster!</p>
                    </div>
                    <!-- Stats Panel (hidden on mobile, visible on sm+) -->
                    <div class="bg-gray-800/50 rounded-2xl p-4 sm:p-4 border border-gray-600/30 backdrop-blur-sm mb-2 hidden sm:block" id="miningStatsPanel">
                        <h3 class="text-base sm:text-lg font-semibold text-white mb-2 sm:mb-3 flex items-center gap-2 font-orbitron text-center justify-center">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2m0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                            </svg>
                            Mining Stats
                        </h3>
                        <div class="flex flex-col gap-1 sm:gap-2 text-base sm:text-sm font-exo">
                            <div class="flex items-center justify-between">
                                <span class="text-gray-400 flex items-center gap-1"><svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/></svg> Total Mined:</span>
                                <span id="totalMined" class="text-white font-semibold font-jetbrains js-total-mined">0 sats</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-gray-400 flex items-center gap-1"><svg class="w-4 h-4 text-blue-400" fill="currentColor" viewBox="0 0 24 24"><rect x="6" y="6" width="12" height="12"/></svg> Clicks:</span>
                                <span id="totalClicks" class="text-white font-semibold font-jetbrains js-total-clicks">0</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-gray-400 flex items-center gap-1"><svg class="w-4 h-4 text-green-400" fill="currentColor" viewBox="0 0 24 24"><path d="M12 8v4l3 3"/></svg> Time Played:</span>
                                <span id="timePlayed" class="text-white font-semibold font-jetbrains js-time-played">0s</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-gray-400 flex items-center gap-1"><svg class="w-4 h-4 text-purple-400" fill="currentColor" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/></svg> Prestige Level:</span>
                                <span id="prestigeLevel" class="text-purple-400 font-semibold font-jetbrains neon-text js-prestige-level">0</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-gray-400 flex items-center gap-1"><svg class="w-4 h-4 text-purple-400" fill="currentColor" viewBox="0 0 24 24"><rect x="6" y="6" width="12" height="12"/></svg> Prestige Multiplier:</span>
                                <span id="prestigeMultiplier" class="text-purple-400 font-semibold font-jetbrains neon-text js-prestige-multiplier">1.0x</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-gray-400 flex items-center gap-1"><svg class="w-4 h-4 text-orange-400" fill="currentColor" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/></svg> Rebirth Level:</span>
                                <span class="text-orange-400 font-semibold font-jetbrains neon-text js-rebirth-level">0</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-gray-400 flex items-center gap-1"><svg class="w-4 h-4 text-orange-400" fill="currentColor" viewBox="0 0 24 24"><rect x="6" y="6" width="12" height="12"/></svg> Rebirth Points:</span>
                                <span class="text-orange-400 font-semibold font-jetbrains neon-text js-rebirth-points">0</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-gray-400 flex items-center gap-1"><svg class="w-4 h-4 text-orange-400" fill="currentColor" viewBox="0 0 24 24"><path d="M12 8v4l3 3"/></svg> Rebirth Multiplier:</span>
                                <span class="text-orange-400 font-semibold font-jetbrains neon-text js-rebirth-multiplier">1.0x</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Mining Stats Modal for Mobile -->
                <div id="miningStatsModal" class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-2 sm:p-4 md:p-8 overflow-y-auto sm:hidden hidden">
                    <div class="bg-gray-900 rounded-2xl p-4 sm:p-6 w-full max-w-xs sm:max-w-sm mx-2 sm:mx-4 shadow-2xl border border-gray-700 relative overflow-y-auto">
                        <button id="closeStatsModalBtn" class="absolute top-2 right-2 text-gray-400 hover:text-white text-2xl font-bold focus:outline-none" aria-label="Close Stats Modal">&times;</button>
                        <h3 class="text-lg font-semibold text-white mb-3 flex items-center gap-2 font-orbitron text-center justify-center">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2m0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                            </svg>
                            Mining Stats
                        </h3>
                        <div class="flex flex-col gap-2 text-base font-exo">
                            <div class="flex items-center justify-between">
                                <span class="text-gray-400 flex items-center gap-1"><svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/></svg> Total Mined:</span>
                                <span id="modalTotalMined" class="text-white font-semibold font-jetbrains js-total-mined">0 sats</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-gray-400 flex items-center gap-1"><svg class="w-4 h-4 text-blue-400" fill="currentColor" viewBox="0 0 24 24"><rect x="6" y="6" width="12" height="12"/></svg> Clicks:</span>
                                <span id="modalTotalClicks" class="text-white font-semibold font-jetbrains js-total-clicks">0</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-gray-400 flex items-center gap-1"><svg class="w-4 h-4 text-green-400" fill="currentColor" viewBox="0 0 24 24"><path d="M12 8v4l3 3"/></svg> Time Played:</span>
                                <span id="modalTimePlayed" class="text-white font-semibold font-jetbrains js-time-played">0s</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-gray-400 flex items-center gap-1"><svg class="w-4 h-4 text-purple-400" fill="currentColor" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/></svg> Prestige Level:</span>
                                <span id="modalPrestigeLevel" class="text-purple-400 font-semibold font-jetbrains neon-text js-prestige-level">0</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-gray-400 flex items-center gap-1"><svg class="w-4 h-4 text-purple-400" fill="currentColor" viewBox="0 0 24 24"><rect x="6" y="6" width="12" height="12"/></svg> Prestige Multiplier:</span>
                                <span id="modalPrestigeMultiplier" class="text-purple-400 font-semibold font-jetbrains neon-text js-prestige-multiplier">1.0x</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-gray-400 flex items-center gap-1"><svg class="w-4 h-4 text-orange-400" fill="currentColor" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/></svg> Rebirth Level:</span>
                                <span id="modalRebirthLevel" class="text-orange-400 font-semibold font-jetbrains neon-text js-rebirth-level">0</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-gray-400 flex items-center gap-1"><svg class="w-4 h-4 text-orange-400" fill="currentColor" viewBox="0 0 24 24"><rect x="6" y="6" width="12" height="12"/></svg> Rebirth Points:</span>
                                <span id="modalRebirthPoints" class="text-orange-400 font-semibold font-jetbrains neon-text js-rebirth-points">0</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-gray-400 flex items-center gap-1"><svg class="w-4 h-4 text-orange-400" fill="currentColor" viewBox="0 0 24 24"><path d="M12 8v4l3 3"/></svg> Rebirth Multiplier:</span>
                                <span id="modalRebirthMultiplier" class="text-orange-400 font-semibold font-jetbrains neon-text js-rebirth-multiplier">1.0x</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Right Panel: Upgrades and Market -->
            <div class="lg:col-span-2 mb-4 lg:mb-0">
                <div class="space-y-3 sm:space-y-4 md:space-y-6">
                    <!-- Tabbed Interface -->
                    <div class="glass rounded-2xl shadow-2xl border border-gray-600 mb-4">
                        <div id="tabBar" class="flex flex-nowrap sm:flex-row overflow-x-auto sticky top-0 z-10 bg-gray-900/80 rounded-t-2xl border-b border-gray-600" role="tablist">
                            <button id="rigTab" class="flex-1 min-w-[90px] py-4 px-2 text-base sm:text-lg font-semibold text-white bg-purple-600 hover:bg-purple-700 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-purple-500/50 font-orbitron rounded-t-xl sm:rounded-t-none sm:rounded-l-xl tab-btn" aria-selected="true" aria-controls="rigContent" role="tab" tabindex="0">
                                <span class="flex flex-col items-center justify-center gap-1">
                                    <svg class="w-5 h-5 mb-1" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>
                                    <span class="text-xs sm:text-base">Rig</span>
                                    <span class="hidden sm:inline">Upgrades</span>
                                </span>
                            </button>
                            <button id="rebirthTab" class="flex-1 min-w-[90px] py-4 px-2 text-base sm:text-lg font-semibold text-gray-400 hover:text-white hover:bg-gray-700 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-orange-500/50 font-orbitron rounded-t-xl sm:rounded-t-none sm:rounded-l-none tab-btn" aria-selected="false" aria-controls="rebirthContent" role="tab" tabindex="-1">
                                <span class="flex flex-col items-center justify-center gap-1">
                                    <svg class="w-5 h-5 mb-1" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
                                    <span class="text-xs sm:text-base">Rebirth</span>
                                </span>
                            </button>
                            <button id="marketTab" class="flex-1 min-w-[90px] py-4 px-2 text-base sm:text-lg font-semibold text-gray-400 hover:text-white hover:bg-gray-700 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-teal-500/50 font-orbitron rounded-t-xl sm:rounded-t-none sm:rounded-r-xl tab-btn" aria-selected="false" aria-controls="marketContent" role="tab" tabindex="-1">
                                <span class="flex flex-col items-center justify-center gap-1">
                                    <svg class="w-5 h-5 mb-1" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
                                    <span class="text-xs sm:text-base">Market</span>
                                    <span class="hidden sm:inline">Altcoins</span>
                                </span>
                            </button>
                        </div>
                        <div id="tabSlider" class="flex flex-col sm:flex-row transition-transform duration-300 ease-in-out w-full overflow-x-hidden">
                            <div id="rigContent" class="tab-content w-full flex-shrink-0 px-1 sm:px-2 md:px-4" role="tabpanel" aria-labelledby="rigTab">
                                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 md:gap-6">
                                    
                                    <!-- GPU Upgrade -->
                                    <div class="bg-gray-800/70 p-5 rounded-xl shadow-lg border border-gray-700/50 hover:border-indigo-500/50 transition-all duration-300 backdrop-blur-sm flex flex-col sm:justify-between sm:h-full">
                                        <!-- Desktop/Laptop Layout -->
                                        <div class="hidden sm:flex flex-row items-center gap-3 mb-3">
                                            <div class="w-10 h-10 bg-indigo-600 rounded-lg flex items-center justify-center">
                                                <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                                                    <path d="M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z"/>
                                                </svg>
                                            </div>
                                            <div class="flex-1">
                                                <h3 class="text-xl font-bold text-white font-orbitron">GPU</h3>
                                                <p class="text-gray-400 text-sm font-exo">Increase mining power & efficiency</p>
                                            </div>
                                        </div>
                                        <p class="text-gray-300 text-sm mb-2 font-exo hidden sm:block js-gpu-level">Level: 1</p>
                                        <div class="hidden sm:flex flex-col gap-2 mt-auto">
                                            <p class="text-yellow-400 text-lg font-bold font-jetbrains hidden sm:block js-gpu-cost">Cost: 10 sats</p>
                                            <button id="buyGpuButton" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 disabled:opacity-50 disabled:cursor-not-allowed font-exo sm:block hidden">
                                                Upgrade GPU
                                            </button>
                                        </div>
                                        <!-- Mobile Layout -->
                                        <div class="flex flex-row items-start mb-3 sm:hidden flex-nowrap">
                                            <div class="w-10 h-10 bg-indigo-600 rounded-lg flex items-center justify-center mr-3 flex-shrink-0">
                                                <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                                                    <path d="M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z"/>
                                                </svg>
                                            </div>
                                            <div class="flex-1 min-w-0">
                                                <h3 class="text-xl font-bold text-white font-orbitron">GPU</h3>
                                                <p class="text-gray-400 text-sm font-exo mt-1">Increase mining power & efficiency</p>
                                                <p class="text-gray-300 text-xs mt-1 font-exo js-gpu-level">Level: 1</p>
                                            </div>
                                            <div class="flex flex-col items-end ml-3 flex-shrink-0">
                                                <button id="buyGpuButtonMobile" class="flex items-center justify-center bg-indigo-600 hover:bg-indigo-700 text-white font-bold w-10 h-10 rounded-lg shadow focus:outline-none focus:ring-2 focus:ring-indigo-500/50 transition-all duration-200 mb-1" aria-label="Upgrade GPU">
                                                    <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4"/></svg>
                                                </button>
                                                <p class="text-yellow-400 text-xs font-bold font-jetbrains mb-0 text-right w-full js-gpu-cost">Cost: 10 sats</p>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Cooling System Upgrade -->
                                    <div class="bg-gray-800/70 p-5 rounded-xl shadow-lg border border-gray-700/50 hover:border-cyan-500/50 transition-all duration-300 backdrop-blur-sm flex flex-col sm:justify-between sm:h-full">
                                        <!-- Desktop/Laptop Layout -->
                                        <div class="hidden sm:flex flex-row items-center gap-3 mb-3">
                                            <div class="w-10 h-10 bg-cyan-600 rounded-lg flex items-center justify-center">
                                                <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                                </svg>
                                            </div>
                                            <div class="flex-1">
                                                <h3 class="text-xl font-bold text-white font-orbitron">Cooling System</h3>
                                                <p class="text-gray-400 text-sm font-exo">Boost overall mining efficiency</p>
                                            </div>
                                        </div>
                                        <p class="text-gray-300 text-sm mb-2 font-exo hidden sm:block js-cooling-level">Level: 0</p>
                                        <div class="hidden sm:flex flex-col gap-2 mt-auto">
                                            <p class="text-yellow-400 text-lg font-bold font-jetbrains hidden sm:block js-cooling-cost">Cost: 50 sats</p>
                                            <button id="buyCoolingButton" class="w-full bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-3 px-4 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-cyan-500/50 disabled:opacity-50 disabled:cursor-not-allowed font-exo sm:block hidden">
                                                Upgrade Cooling
                                            </button>
                                        </div>
                                        <!-- Mobile Layout -->
                                        <div class="flex flex-row items-start mb-3 sm:hidden flex-nowrap">
                                            <div class="w-10 h-10 bg-cyan-600 rounded-lg flex items-center justify-center mr-3 flex-shrink-0">
                                                <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                                </svg>
                                            </div>
                                            <div class="flex-1 min-w-0">
                                                <h3 class="text-xl font-bold text-white font-orbitron">Cooling System</h3>
                                                <p class="text-gray-400 text-sm font-exo mt-1">Boost overall mining efficiency</p>
                                                <p class="text-gray-300 text-xs mt-1 font-exo js-cooling-level">Level: 0</p>
                                            </div>
                                            <div class="flex flex-col items-end ml-3 flex-shrink-0">
                                                <button id="buyCoolingButtonMobile" class="flex items-center justify-center bg-cyan-600 hover:bg-cyan-700 text-white font-bold w-10 h-10 rounded-lg shadow focus:outline-none focus:ring-2 focus:ring-cyan-500/50 transition-all duration-200 mb-1" aria-label="Upgrade Cooling System">
                                                    <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4"/></svg>
                                                </button>
                                                <p class="text-yellow-400 text-xs font-bold font-jetbrains mb-0 text-right w-full js-cooling-cost">Cost: 50 sats</p>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Power Supply Upgrade -->
                                    <div class="bg-gray-800/70 p-5 rounded-xl shadow-lg border border-gray-700/50 hover:border-orange-500/50 transition-all duration-300 backdrop-blur-sm flex flex-col sm:justify-between sm:h-full">
                                        <!-- Desktop/Laptop Layout -->
                                        <div class="hidden sm:flex flex-row items-center gap-3 mb-3">
                                            <div class="w-10 h-10 bg-orange-600 rounded-lg flex items-center justify-center">
                                                <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                                                    <path d="M13 2.05v3.03c3.39.49 6 3.39 6 6.92 0 .9-.18 1.75-.5 2.54l2.6 1.53c.56-1.24.9-2.62.9-4.07 0-5.18-3.95-9.45-9-9.95zM12 19c-3.87 0-7-3.13-7-7 0-3.53 2.61-6.43 6-6.92V2.05c-5.05.5-9 4.77-9 9.95 0 5.52 4.47 10 9.99 10 3.31 0 6.24-1.61 8.06-4.09l-2.6-1.53C16.17 17.98 14.21 19 12 19z"/>
                                                </svg>
                                            </div>
                                            <div class="flex-1">
                                                <h3 class="text-xl font-bold text-white font-orbitron">Power Supply</h3>
                                                <p class="text-gray-400 text-sm font-exo">Increase mining capacity & stability</p>
                                            </div>
                                        </div>
                                        <p class="text-gray-300 text-sm mb-2 font-exo hidden sm:block js-psu-level">Level: 0</p>
                                        <div class="hidden sm:flex flex-col gap-2 mt-auto">
                                            <p class="text-yellow-400 text-lg font-bold font-jetbrains hidden sm:block js-psu-cost">Cost: 200 sats</p>
                                            <button id="buyPowerSupplyButton" class="w-full bg-orange-600 hover:bg-orange-700 text-white font-bold py-3 px-4 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-orange-500/50 disabled:opacity-50 disabled:cursor-not-allowed font-exo sm:block hidden">
                                                Upgrade Power Supply
                                            </button>
                                        </div>
                                        <!-- Mobile Layout -->
                                        <div class="flex flex-row items-start mb-3 sm:hidden flex-nowrap">
                                            <div class="w-10 h-10 bg-orange-600 rounded-lg flex items-center justify-center mr-3 flex-shrink-0">
                                                <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                                                    <path d="M13 2.05v3.03c3.39.49 6 3.39 6 6.92 0 .9-.18 1.75-.5 2.54l2.6 1.53c.56-1.24.9-2.62.9-4.07 0-5.18-3.95-9.45-9-9.95zM12 19c-3.87 0-7-3.13-7-7 0-3.53 2.61-6.43 6-6.92V2.05c-5.05.5-9 4.77-9 9.95 0 5.52 4.47 10 9.99 10 3.31 0 6.24-1.61 8.06-4.09l-2.6-1.53C16.17 17.98 14.21 19 12 19z"/>
                                                </svg>
                                            </div>
                                            <div class="flex-1 min-w-0">
                                                <h3 class="text-xl font-bold text-white font-orbitron">Power Supply</h3>
                                                <p class="text-gray-400 text-sm font-exo mt-1">Increase mining capacity & stability</p>
                                                <p class="text-gray-300 text-xs mt-1 font-exo js-psu-level">Level: 0</p>
                                            </div>
                                            <div class="flex flex-col items-end ml-3 flex-shrink-0">
                                                <button id="buyPowerSupplyButtonMobile" class="flex items-center justify-center bg-orange-600 hover:bg-orange-700 text-white font-bold w-10 h-10 rounded-lg shadow focus:outline-none focus:ring-2 focus:ring-orange-500/50 transition-all duration-200 mb-1" aria-label="Upgrade Power Supply">
                                                    <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4"/></svg>
                                                </button>
                                                <p class="text-yellow-400 text-xs font-bold font-jetbrains mb-0 text-right w-full js-psu-cost">Cost: 200 sats</p>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Mining Automation Upgrade -->
                                    <div class="bg-gray-800/70 p-5 rounded-xl shadow-lg border border-gray-700/50 hover:border-emerald-500/50 transition-all duration-300 backdrop-blur-sm flex flex-col sm:justify-between sm:h-full">
                                        <!-- Desktop/Laptop Layout -->
                                        <div class="hidden sm:flex flex-row items-center gap-3 mb-3">
                                            <div class="w-10 h-10 bg-emerald-600 rounded-lg flex items-center justify-center">
                                                <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                                </svg>
                                            </div>
                                            <div class="flex-1">
                                                <h3 class="text-xl font-bold text-white font-orbitron">Mining Automation</h3>
                                                <p class="text-gray-400 text-sm font-exo">Auto-click mining</p>
                                            </div>
                                        </div>
                                        <p class="text-gray-300 text-sm mb-2 font-exo hidden sm:block js-automation-level">Level: 0</p>
                                        <div class="hidden sm:flex flex-col gap-2 mt-auto">
                                            <p class="text-yellow-400 text-lg font-bold font-jetbrains hidden sm:block js-automation-cost">Cost: 5,000 sats</p>
                                            <button id="buyAutomationButton" class="w-full bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-3 px-4 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 disabled:opacity-50 disabled:cursor-not-allowed font-exo sm:block hidden">
                                                Upgrade Automation
                                            </button>
                                        </div>
                                        <!-- Mobile Layout -->
                                        <div class="flex flex-row items-start mb-3 sm:hidden flex-nowrap">
                                            <div class="w-10 h-10 bg-emerald-600 rounded-lg flex items-center justify-center mr-3 flex-shrink-0">
                                                <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                                </svg>
                                            </div>
                                            <div class="flex-1 min-w-0">
                                                <h3 class="text-xl font-bold text-white font-orbitron">Mining Automation</h3>
                                                <p class="text-gray-400 text-sm font-exo mt-1">Auto-click mining</p>
                                                <p class="text-gray-300 text-xs mt-1 font-exo js-automation-level">Level: 0</p>
                                            </div>
                                            <div class="flex flex-col items-end ml-3 flex-shrink-0">
                                                <button id="buyAutomationButtonMobile" class="flex items-center justify-center bg-emerald-600 hover:bg-emerald-700 text-white font-bold w-10 h-10 rounded-lg shadow focus:outline-none focus:ring-2 focus:ring-emerald-500/50 transition-all duration-200 mb-1" aria-label="Upgrade Mining Automation">
                                                    <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4"/></svg>
                                                </button>
                                                <p class="text-yellow-400 text-xs font-bold font-jetbrains mb-0 text-right w-full js-automation-cost">Cost: 5,000 sats</p>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Quantum Processor Upgrade -->
                                    <div class="bg-gray-800/70 p-5 rounded-xl shadow-lg border border-gray-700/50 hover:border-fuchsia-500/50 transition-all duration-300 backdrop-blur-sm flex flex-col sm:justify-between sm:h-full">
                                        <!-- Desktop/Laptop Layout -->
                                        <div class="hidden sm:flex flex-row items-center gap-3 mb-3">
                                            <div class="w-10 h-10 bg-fuchsia-600 rounded-lg flex items-center justify-center">
                                                <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                                </svg>
                                            </div>
                                            <div class="flex-1">
                                                <h3 class="text-xl font-bold text-white font-orbitron">Quantum Processor</h3>
                                                <p class="text-gray-400 text-sm font-exo">Revolutionary mining technology</p>
                                            </div>
                                        </div>
                                        <p class="text-gray-300 text-sm mb-2 font-exo hidden sm:block js-quantum-level">Level: 0</p>
                                        <div class="hidden sm:flex flex-col gap-2 mt-auto">
                                            <p class="text-yellow-400 text-lg font-bold font-jetbrains hidden sm:block js-quantum-cost">Cost: 1,000,000 sats</p>
                                            <button id="buyQuantumButton" class="w-full bg-fuchsia-600 hover:bg-fuchsia-700 text-white font-bold py-3 px-4 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-fuchsia-500/50 disabled:opacity-50 disabled:cursor-not-allowed font-exo sm:block hidden">
                                                Research Quantum
                                            </button>
                                        </div>
                                        <!-- Mobile Layout -->
                                        <div class="flex flex-row items-start mb-3 sm:hidden flex-nowrap">
                                            <div class="w-10 h-10 bg-fuchsia-600 rounded-lg flex items-center justify-center mr-3 flex-shrink-0">
                                                <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                                </svg>
                                            </div>
                                            <div class="flex-1 min-w-0">
                                                <h3 class="text-xl font-bold text-white font-orbitron">Quantum Processor</h3>
                                                <p class="text-gray-400 text-sm font-exo mt-1">Revolutionary mining technology</p>
                                                <p class="text-gray-300 text-xs mt-1 font-exo js-quantum-level">Level: 0</p>
                                            </div>
                                            <div class="flex flex-col items-end ml-3 flex-shrink-0">
                                                <button id="buyQuantumButtonMobile" class="flex items-center justify-center bg-fuchsia-600 hover:bg-fuchsia-700 text-white font-bold w-10 h-10 rounded-lg shadow focus:outline-none focus:ring-2 focus:ring-fuchsia-500/50 transition-all duration-200 mb-1" aria-label="Research Quantum Processor">
                                                    <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4"/></svg>
                                                </button>
                                                <p class="text-yellow-400 text-xs font-bold font-jetbrains mb-0 text-right w-full js-quantum-cost">Cost: 1,000,000 sats</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div id="rebirthContent" class="tab-content w-full flex-shrink-0 px-1 sm:px-2 md:px-4" role="tabpanel" aria-labelledby="rebirthTab">
                                <!-- Summary Card (rebirth stats) -->
                                <div class="bg-gray-900/80 rounded-xl shadow-lg border border-orange-500/30 p-4 mb-3 flex flex-row items-center justify-between gap-6 w-full">
                                    <div class="flex flex-col items-center flex-1 w-full">
                                        <span class="text-xs text-gray-400 font-exo">Rebirth Level</span>
                                        <span class="text-2xl font-bold text-orange-400 font-orbitron neon-text js-rebirth-level">0</span>
                                    </div>
                                    <div class="flex flex-col items-center flex-1 w-full">
                                        <span class="text-xs text-gray-400 font-exo">Rebirth Points</span>
                                        <span class="text-2xl font-bold text-orange-300 font-orbitron neon-text js-rebirth-points">0</span>
                                    </div>
                                    <div class="flex flex-col items-center flex-1 w-full">
                                        <span class="text-xs text-gray-400 font-exo">Rebirth Multiplier</span>
                                        <span class="text-2xl font-bold text-orange-200 font-orbitron neon-text js-rebirth-multiplier">1.0x</span>
                                    </div>
                                </div>
                                <!-- Rebirth System Banner -->
                                <div class="mb-10 p-8 bg-gradient-to-r from-orange-600/20 via-red-500/20 to-orange-600/20 rounded-xl border border-orange-500/30 backdrop-blur-sm">
                                    <div class="text-center">
                                        <h3 class="text-2xl font-bold text-orange-400 mb-4 font-orbitron neon-text">ðŸ”¥ Rebirth System</h3>
                                        <p class="text-gray-300 mb-6 font-exo">Reset your progress for permanent bonuses and rebirth points!</p>
                                        <div class="flex items-center justify-center gap-6 mb-6 text-sm font-exo">
                                            <div class="text-center">
                                                <p class="text-gray-400" id="rebirthRequiredLabel">Required:</p>
                                                <div class="text-center"> <!-- This div seems redundant -->
                                                    <p id="rebirthRequirement" class="text-yellow-400 font-jetbrains font-bold">10,000+ sats</p>
                                                </div>
                                            </div>
                                            <div class="text-center">
                                                <p class="text-gray-400">Current:</p>
                                                <p id="rebirthProgress" class="text-red-400 font-jetbrains font-bold">18 sats</p>
                                            </div>
                                        </div>
                                        <button id="rebirthNowButton" class="bg-gradient-to-r from-orange-600 via-red-500 to-orange-600 hover:from-orange-700 hover:via-red-600 hover:to-orange-700 text-white font-bold py-4 px-8 rounded-xl text-lg shadow-2xl transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-orange-500/50 flex items-center justify-center gap-3 mx-auto font-orbitron shimmer mb-2">
                                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                                            </svg>
                                            <span>ðŸ”¥ REBIRTH NOW</span>
                                        </button>
                                        <p class="text-xs text-gray-500 mt-4 font-exo">ðŸ’¡ Rebirth gives you permanent bonuses and rebirth points to spend on upgrades!</p>
                                    </div>
                                </div>
                                <!-- Rebirth Upgrades -->
                                <h2 class="text-lg sm:text-xl font-bold mb-4 mt-2 text-orange-300 font-orbitron flex items-center gap-2">
                                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><rect x="6" y="6" width="12" height="12"/></svg>
                                    Rebirth Upgrades
                                </h2>
                                <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 mb-8" id="rebirthUpgrades">
                                    <!-- Mining Boost Upgrade -->
                                    <div class="bg-gray-800/70 p-5 rounded-xl shadow-lg border border-orange-400/40 hover:border-orange-500/60 transition-all duration-300 backdrop-blur-sm flex flex-col sm:justify-between sm:h-full">
                                        <!-- Desktop/Laptop Layout -->
                                        <div class="hidden sm:flex flex-row items-center gap-3 mb-3">
                                            <div class="w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center">
                                                <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                                                    <path d="M12 2L2 7l10 5 10-5-10-5zm0 13c-4.41 0-8 1.79-8 4v3h16v-3c0-2.21-3.59-4-8-4z"/>
                                                </svg>
                                            </div>
                                            <div class="flex-1">
                                                <h3 class="text-xl font-bold text-white font-orbitron">Mining Boost</h3>
                                                <p class="text-gray-400 text-sm font-exo">Increase rebirth multiplier</p>
                                            </div>
                                        </div>
                                        <p class="text-gray-300 text-sm mb-2 font-exo hidden sm:block js-mining-boost-level">Level: 0</p>
                                        <div class="hidden sm:flex flex-col gap-2 mt-auto">
                                            <p class="text-yellow-400 text-lg font-bold font-jetbrains hidden sm:block js-mining-boost-cost">Cost: 1 Rebirth Point</p>
                                            <button id="buyMiningBoostButton" class="w-full bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-4 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-orange-500/50 disabled:opacity-50 disabled:cursor-not-allowed font-exo sm:block hidden">
                                                Upgrade Mining Boost
                                            </button>
                                        </div>
                                        <!-- Mobile Layout -->
                                        <div class="flex flex-row items-start mb-3 sm:hidden flex-nowrap">
                                            <div class="w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center mr-3 flex-shrink-0">
                                                <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                                                    <path d="M12 2L2 7l10 5 10-5-10-5zm0 13c-4.41 0-8 1.79-8 4v3h16v-3c0-2.21-3.59-4-8-4z"/>
                                                </svg>
                                            </div>
                                            <div class="flex-1 min-w-0">
                                                <h3 class="text-xl font-bold text-white font-orbitron">Mining Boost</h3>
                                                <p class="text-gray-400 text-sm font-exo mt-1">Increase rebirth multiplier</p>
                                                <p class="text-gray-300 text-xs mt-1 font-exo js-mining-boost-level">Level: 0</p>
                                            </div>
                                            <div class="flex flex-col items-end ml-3 flex-shrink-0">
                                                <button id="buyMiningBoostButtonMobile" class="flex items-center justify-center bg-orange-500 hover:bg-orange-600 text-white font-bold w-10 h-10 rounded-lg shadow focus:outline-none focus:ring-2 focus:ring-orange-500/50 transition-all duration-200 mb-1" aria-label="Upgrade Mining Boost">
                                                    <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4"/></svg>
                                                </button>
                                                <p class="text-yellow-400 text-xs font-bold font-jetbrains mb-0 text-right w-full js-mining-boost-cost-mobile">Cost: 1 RP</p>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Efficiency Upgrade -->
                                    <div class="bg-gray-800/70 p-5 rounded-xl shadow-lg border border-blue-400/40 hover:border-blue-500/60 transition-all duration-300 backdrop-blur-sm flex flex-col sm:justify-between sm:h-full">
                                        <!-- Desktop/Laptop Layout -->
                                        <div class="hidden sm:flex flex-row items-center gap-3 mb-3">
                                            <div class="w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center">
                                                <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                                                    <path d="M12 2L2 7l10 5 10-5-10-5zm0 13c-4.41 0-8 1.79-8 4v3h16v-3c0-2.21-3.59-4-8-4z"/>
                                                </svg>
                                            </div>
                                            <div class="flex-1">
                                                <h3 class="text-xl font-bold text-white font-orbitron">Efficiency</h3>
                                                <p class="text-gray-400 text-sm font-exo">Increase rebirth efficiency</p>
                                            </div>
                                        </div>
                                        <p class="text-gray-300 text-sm mb-2 font-exo hidden sm:block js-efficiency-level">Level: 0</p>
                                        <div class="hidden sm:flex flex-col gap-2 mt-auto">
                                            <p class="text-yellow-400 text-lg font-bold font-jetbrains hidden sm:block js-efficiency-cost">Cost: 2 Rebirth Points</p>
                                            <button id="buyEfficiencyButton" class="w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-4 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500/50 disabled:opacity-50 disabled:cursor-not-allowed font-exo sm:block hidden">
                                                Upgrade Efficiency
                                            </button>
                                        </div>
                                        <!-- Mobile Layout -->
                                        <div class="flex flex-row items-start mb-3 sm:hidden flex-nowrap">
                                            <div class="w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center mr-3 flex-shrink-0">
                                                <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                                                    <path d="M12 2L2 7l10 5 10-5-10-5zm0 13c-4.41 0-8 1.79-8 4v3h16v-3c0-2.21-3.59-4-8-4z"/>
                                                </svg>
                                            </div>
                                            <div class="flex-1 min-w-0">
                                                <h3 class="text-xl font-bold text-white font-orbitron">Efficiency</h3>
                                                <p class="text-gray-400 text-sm font-exo mt-1">Increase rebirth efficiency</p>
                                                <p class="text-gray-300 text-xs mt-1 font-exo js-efficiency-level">Level: 0</p>
                                            </div>
                                            <div class="flex flex-col items-end ml-3 flex-shrink-0">
                                                <button id="buyEfficiencyButtonMobile" class="flex items-center justify-center bg-blue-500 hover:bg-blue-600 text-white font-bold w-10 h-10 rounded-lg shadow focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all duration-200 mb-1" aria-label="Upgrade Efficiency">
                                                    <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4"/></svg>
                                                </button>
                                                <p class="text-yellow-400 text-xs font-bold font-jetbrains mb-0 text-right w-full js-efficiency-cost-mobile">Cost: 2 RP</p>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Luck Upgrade -->
                                    <div class="bg-gray-800/70 p-5 rounded-xl shadow-lg border border-purple-400/40 hover:border-purple-500/60 transition-all duration-300 backdrop-blur-sm flex flex-col sm:justify-between sm:h-full">
                                        <!-- Desktop/Laptop Layout -->
                                        <div class="hidden sm:flex flex-row items-center gap-3 mb-3">
                                            <div class="w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center">
                                                <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                                                    <path d="M12 2L2 7l10 5 10-5-10-5zm0 13c-4.41 0-8 1.79-8 4v3h16v-3c0-2.21-3.59-4-8-4z"/>
                                                </svg>
                                            </div>
                                            <div class="flex-1">
                                                <h3 class="text-xl font-bold text-white font-orbitron">Luck</h3>
                                                <p class="text-gray-400 text-sm font-exo">Increase rebirth luck</p>
                                            </div>
                                        </div>
                                        <p class="text-gray-300 text-sm mb-2 font-exo hidden sm:block js-luck-level">Level: 0</p>
                                        <div class="hidden sm:flex flex-col gap-2 mt-auto">
                                            <p class="text-yellow-400 text-lg font-bold font-jetbrains hidden sm:block js-luck-cost">Cost: 3 Rebirth Points</p>
                                            <button id="buyLuckButton" class="w-full bg-purple-500 hover:bg-purple-600 text-white font-bold py-3 px-4 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-purple-500/50 disabled:opacity-50 disabled:cursor-not-allowed font-exo sm:block hidden">
                                                Upgrade Luck
                                            </button>
                                        </div>
                                        <!-- Mobile Layout -->
                                        <div class="flex flex-row items-start mb-3 sm:hidden flex-nowrap">
                                            <div class="w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center mr-3 flex-shrink-0">
                                                <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                                                    <path d="M12 2L2 7l10 5 10-5-10-5zm0 13c-4.41 0-8 1.79-8 4v3h16v-3c0-2.21-3.59-4-8-4z"/>
                                                </svg>
                                            </div>
                                            <div class="flex-1 min-w-0">
                                                <h3 class="text-xl font-bold text-white font-orbitron">Luck</h3>
                                                <p class="text-gray-400 text-sm font-exo mt-1">Increase rebirth luck</p>
                                                <p class="text-gray-300 text-xs mt-1 font-exo js-luck-level">Level: 0</p>
                                            </div>
                                            <div class="flex flex-col items-end ml-3 flex-shrink-0">
                                                <button id="buyLuckButtonMobile" class="flex items-center justify-center bg-purple-500 hover:bg-purple-600 text-white font-bold w-10 h-10 rounded-lg shadow focus:outline-none focus:ring-2 focus:ring-purple-500/50 transition-all duration-200 mb-1" aria-label="Upgrade Luck">
                                                    <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4"/></svg>
                                                </button>
                                                <p class="text-yellow-400 text-xs font-bold font-jetbrains mb-0 text-right w-full js-luck-cost-mobile">Cost: 3 RP</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- Prestige System Banner -->
                                <div class="mb-8 p-8 bg-gradient-to-r from-purple-600/20 via-blue-500/20 to-purple-600/20 rounded-xl border border-purple-500/30 backdrop-blur-sm">
                                    <div class="text-center">
                                        <h3 class="text-2xl font-bold text-purple-400 mb-4 font-orbitron neon-text">â­ Prestige System</h3>
                                        <p class="text-gray-300 mb-6 font-exo">Reset your progress for a permanent multiplier bonus!</p>
                                        <div class="flex items-center justify-center gap-6 mb-6 text-sm font-exo">
                                            <div class="text-center">
                                                <p class="text-gray-400">Required:</p>
                                                <p id="prestigeRequirement" class="text-yellow-400 font-jetbrains font-bold">1,000,000+ sats</p>
                                            </div>
                                            <div class="text-center">
                                                <p class="text-gray-400">Current:</p>
                                                <p id="prestigeProgress" class="text-blue-400 font-jetbrains font-bold">0 sats</p>
                                            </div>
                                        </div>
                                        <button id="prestigeNowButton" class="bg-gradient-to-r from-purple-600 via-blue-500 to-purple-600 hover:from-purple-700 hover:via-blue-600 hover:to-purple-700 text-white font-bold py-4 px-8 rounded-xl text-lg shadow-2xl transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-purple-500/50 flex items-center justify-center gap-3 mx-auto font-orbitron shimmer mb-2">
                                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>
                                            </svg>
                                            <span>â­ PRESTIGE NOW</span>
                                        </button>
                                        <p class="text-xs text-gray-500 mt-4 font-exo">ðŸ’¡ Prestige gives you a permanent multiplier bonus for all future runs!</p>
                                    </div>
                                </div>
                            </div>
                            <div id="marketContent" class="tab-content w-full flex-shrink-0 px-1 sm:px-2 md:px-4" role="tabpanel" aria-labelledby="marketTab">
                                <h2 class="text-lg sm:text-xl md:text-2xl font-bold mb-2">Altcoin Market</h2>
                                <div id="altcoinMarket"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Settings Modal (hidden by default) -->
    <div id="settingsModal" class="modal-backdrop hidden flex items-center justify-center p-2 sm:p-4 md:p-8" role="dialog" aria-modal="true" aria-labelledby="settingsTitle">
        <div class="modal w-full max-w-xs sm:max-w-sm md:max-w-md mx-2 sm:mx-4 overflow-y-auto">
            <h2 id="settingsTitle" class="text-xl font-bold mb-4">Settings</h2>
            <div class="mb-4 flex flex-col gap-3">
                <button id="saveGameBtn" class="btn bg-blue-600 hover:bg-blue-700 text-white w-full" aria-label="Save Game">ðŸ’¾ Save Game</button>
                <button id="loadGameBtn" class="btn bg-green-600 hover:bg-green-700 text-white w-full" aria-label="Load Game">ðŸ“‚ Load Game</button>
                <button id="resetGameBtn" class="btn bg-red-600 hover:bg-red-700 text-white w-full" aria-label="Reset Game">ðŸ—‘ï¸ Reset Game</button>
            </div>
            <button id="closeSettingsBtn" class="btn bg-gray-700 text-white mt-4 w-full" aria-label="Close Settings">Close</button>
        </div>
    </div>

    <!-- Shop Modal (hidden by default) -->
    <div id="shopModal" class="modal-backdrop hidden flex items-center justify-center p-2 sm:p-4 md:p-8" role="dialog" aria-modal="true" aria-labelledby="shopTitle">
        <div class="modal w-full max-w-xs sm:max-w-sm md:max-w-md mx-2 sm:mx-4 overflow-y-auto">
            <div class="flex justify-between items-center mb-4">
                <h2 id="shopTitle" class="text-xl font-bold">Shop</h2>
                <div class="flex items-center gap-2 text-lg font-bold text-cyan-400 font-jetbrains neon-text" title="Gems">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v2a2 2 0 01-2 2H7a2 2 0 01-2-2V4zm0 6a2 2 0 012-2h6a2 2 0 012 2v2a2 2 0 01-2 2H7a2 2 0 01-2-2v-2zM11 16a1 1 0 10-2 0v.01a1 1 0 102 0V16z"></path><path fill-rule="evenodd" d="M4.5 2A2.5 2.5 0 002 4.5v11A2.5 2.5 0 004.5 18h11a2.5 2.5 0 002.5-2.5V4.5A2.5 2.5 0 0015.5 2h-11zM3 4.5A1.5 1.5 0 014.5 3h11A1.5 1.5 0 0117 4.5v11a1.5 1.5 0 01-1.5 1.5h-11A1.5 1.5 0 013 15.5v-11z" clip-rule="evenodd"></path></svg>
                    <span id="gemCount">100</span>
                </div>
            </div>
            <div id="shopItemsContainer" class="space-y-3">
                <!-- Daily Reward Section -->
                <div class="p-4 bg-gradient-to-r from-yellow-500/20 via-amber-500/20 to-yellow-500/20 rounded-lg border border-yellow-500/40 text-center">
                    <h3 class="font-bold text-white text-lg mb-2">ðŸŽ Daily Reward</h3>
                    <p id="dailyRewardStatus" class="text-sm text-gray-300 mb-3">Claim your daily free gems!</p>
                    <button id="claimDailyRewardBtn" class="btn bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded-lg w-full">
                        Claim Now!
                    </button>
                </div>

                <!-- Item 1: 2x Sats for 10 mins -->
                <div class="flex items-center justify-between p-3 bg-gray-800/70 rounded-lg border border-gray-700 hover:border-green-500/50 transition-colors">
                    <div>
                        <h3 class="font-bold text-white">Satoshi Surge (2x)</h3>
                        <p class="text-sm text-gray-400">Doubles all satoshi gains for 10 minutes.</p>
                    </div>
                    <button data-boost-type="satoshiBoost" data-multiplier="2" data-duration="600" data-cost="50" class="btn bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-3 rounded-lg">
                        50 Gems
                    </button>
                </div>
                <!-- Item 2: 5x Sats for 5 mins -->
                <div class="flex items-center justify-between p-3 bg-gray-800/70 rounded-lg border border-gray-700 hover:border-green-500/50 transition-colors">
                    <div>
                        <h3 class="font-bold text-white">Satoshi Frenzy (5x)</h3>
                        <p class="text-sm text-gray-400">5x all satoshi gains for 5 minutes.</p>
                    </div>
                    <button data-boost-type="satoshiBoost" data-multiplier="5" data-duration="300" data-cost="100" class="btn bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-3 rounded-lg">
                        100 Gems
                    </button>
                </div>
            </div>
            <button id="closeShopBtn" class="btn bg-gray-700 text-white mt-4 w-full" aria-label="Close Shop">Close</button>
        </div>
    </div>

    <!-- Scripts: Use ES6 modules and correct order -->
    <script type="module" src="./js/state.js"></script>
    <script type="module" src="./js/game.js"></script>
    <script type="module" src="./js/upgrades.js"></script>
    <script type="module" src="./js/ui.js"></script>
    <script type="module" src="./js/saveLoad.js"></script>
    <script type="module" src="./js/shop.js"></script>
    <script type="module" src="./js/main.js"></script>
</body>
</html>
